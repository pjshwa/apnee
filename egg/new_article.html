<!DOCTYPE html>
<html lang="en">
<head>	
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>새 글 템플릿</title>
	<link href="../static/css/bootstrap.min.css" rel="stylesheet" />
	<script src="../static/js/jquery.js"></script>
	<script src="../static/js/bootstrap.min.js"></script>
</head>
<style>
@media only screen and (min-width: 320px) { 
    .article_img {
        width: 70%;
    } 
} 
@media only screen and (min-width: 769px) { 
    .article_img {
        width: 40%;
    } 
} 
</style>
<body style="margin-top: 75px;">

	<!-- Body -->
	<div class="container">
		<div class="row">
			<div class="col-md-12">

				<article>
					<h2>중문대 구경 후기</h2>
					<h4>2017년 5월 4일</h4>
					<br/>
					<p class="lead" style="white-space: pre-wrap;">1. Admin에서 csv 업로드, job 등록
2. CSV 파일 인코딩 오류 체크 (validator)
3. row마다 내용 검증 시작(이어서).
3-1. product 이미 db에 있는지 확인, 있다면 product의 "FIT 정보" 만 업데이트, 없다면 product도 새로 생성
new 로 만들어두고 4단계에서 save! 해줌
(새 정보인지 아닌지 알려주는 flag 변수 필요할 듯)
3-2. template 있으면 찾아서 class변수에 저장, 없으면 ERROR_NO_TEMPLATE
3-3. 예시 이미지가 제대로 된 이미지인지 확인. 맞으면 drive에 저장. 
아니면 ERROR_INVALID_IMAGE. 이후 조작 위해서 로컬에 저장함. 끝나면 manually delete(tempfile이랑 carrierwave랑 안친함)
3-4. 사이즈 옵션 검증. 내용이 없으면 ERROR_SIZE_OPTIONS_NOT_GIVEN.
value가 array가 아니거나 json parsing fail할 경우 ERROR_SIZE_OPTIONS_PARSE_FAIL
3-5. 실측 치수 검증. 치수 value array count 마다 사이즈 옵션 value array count와 다르면 ERROR_MEASURE_MISMATCH
템플릿에 있는 모든 실측 치수 정보 존재해야함. 모자라면 ERROR_MEASURE_KEY_UNDERFLOW
넘치면 ERROR_MEASURE_KEY_OVERFLOW
json parse fail-> ERROR_MEASURE_PARSE_FAIL
3-6. 상품 정보 검증. key underflow는 없음.
템플릿에 없는 상품 정보 key가 있으면 ERROR_INFO_KEY_OVERFLOW
value가 array로 오면 manually join into string. (use '/')
json parse fail-> ERROR_INFO_PARSE_FAIL
3-7. 상품 속성 검증. key underflow는 없음.
템플릿에 없는 상품 정보 key가 있으면 ERROR_PROPS_KEY_OVERFLOW
value는 기본적으로 array로 받는다고 생각하고 있기. string 오면 array of one element로 바꿔줌.
이후에 value array 값들과 템플릿 prop values 비교하여 (id로 후보군 꺼내오기) 이상한 값 있으면 ERROR_PROPS_NO_VALUE
json parse fail-> ERROR_PROPS_PARSE_FAIL
4. value inserting
4-1. product의 경우 3-1의 flag 이용하여 save! 할지말지 정해줌.
fail 할 수 있음. 이 경우 ERROR_CREATE_PRODUCT
4-2. 예시 이미지 작업. size 파악하고, carrierwave upload 하는 등의 일을 해줌.
4-3. 주어진 사이즈 옵션들 db에서 확인해서 있으면 id 가져옴. 없으면 새로 추가해서 id 가져옴.
4-4. fit product option 작업.
4-3에서 가져온 id들 사용해서 실측 치수마다 해당 id를 먹여줌.
상품 정보를 넣어줌. 상품 속성 넣어줌.
4-5. 이미지 파일 삭제
5. 끝

여행 경로:
<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/route.png" class="article_img"/><br/>

저기 보이는 University Mall까지는 죄다 오르막길이었다. 서울대도 그런가? 중문대가 어떠냐고 물어보면 다들 "홍콩의 서울대 같은 느낌이야, 사이즈도 비슷하고" 와 같이 이야기를 했는데 나는 서울대를 한번도 가본 적이 없어서 -- 아 고등학교 때 무슨 경시대회인가 보러 간 적은 있다 -- 그렇게 말해줘도 몰랐다.

듣던대로 캠퍼스 버스가 있었는데 왠지 타는 사람이 너무 없어서 학생증이 있는가 확인해 볼 것만 같았다. 그리고 어차피 좀 걸을 생각이었다 등등 합리화를 하면서 University Avenue를 걸어 올라갔다.

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-14.jpeg" class="article_img"/><br/>
올라가다 보니 저런 건물이 보여서 사진을 찍었다. 나중에 알게 된 것이지만 과학관이었다. Run Run Shaw 과학관이었던가?

University Mall에 도착했을 때는 완전 기진맥진한 상태였다. 노트북 왜 갖고 나왔나 싶었다. 근데 어디 걸어다닐 때마다 항상 느끼는 기분이다. 그때마다 맥이라서 그나마 갖고 다닐수라도 있지 만약에 집에 있는 괴물같은 삼성 노트북 그거였으면 꿈도 못 꿨을꺼야 같은 생각을 또 한다.

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-12.jpeg" class="article_img"/><br/>
University Mall 근처의 분수 ...

나는 몰이라길래 당연히 상점인 줄 알았다. 그래서 주변 건물들 다 막 들어가보고 한참동안 상점을 찾았는데 없었다. 뭘 잘 사지는 않지만 어딜 가든 상점은 항상 재밌기 때문이다. 암튼 근데 University Mall 은 상점이 아니고 그냥 광장을 칭하는 것이었다. 표지판을 보니까 '대학 광장' 이라고 써있어서 알았다. 그래서 한국인들만 상점을 몰로 줄여 부르고, 다른 데 가면 다 Shopping Mall이라고 해야 비로소 상점인가? 뭐 이런 생각을 했다. 분명 나 말고도 낚인 한국 사람이 있을 거라고 생각했다.

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-13.jpeg" class="article_img"/><br/>
올라오고 나서 힘들어서 마신 미닛 메이드 알로에

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-11.jpeg" class="article_img"/><br/>
중문대 투슈관

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-8.jpeg" class="article_img"/><br/>
'SIR' RUN RUN SHAW HALL

런런쇼가 뭐 하는 사람이기에 대학마다 자기 이름 딴 건물이 있나 싶었다. 홍콩대에도 있고, 저번에 폴리텍 대학 잠깐 갔을 때도 있었다. 돈 많은 사람인 것은 분명하다.

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/run.jpg" class="article_img"/><br/>
방금 구글에 찾아보고 왔는데 홍콩의 기업가라고 한다. 잘 생긴 것 같다.

아 근데 이제 아빠랑 저녁 먹으러 몽콕 가야 한다. University Mall에서 다시 내려가는 이야기는 오늘 저녁이나 내일 다시 할 수도 있고 안 할수도 있다.

====

안녕? 저녁으로는 맛있는 찜닭을 먹었다. 중문대 이야기를 마저 하려구한다
중문대에 오면 가려고 미리 점찍어 둔 데가 두 군데 있었다. 하나는 Yasumoto International Academic Park (지도 오른쪽 아래) 다른 하나는 Benjamin Franklin Coffee Corner (왼쪽 위) 둘 다 먹을 것이 있다고 해서 그랬는데, 정작 갔을 때는 속이 부글부글대서 암것도 먹지 못했다.

Yasumoto International Academic Park는 이대 ECC랑 느낌이 비슷하더라. 맛있는 커피를 파는 까페가 있다고 해서 가보니까 그냥 cafe 330이었다. 그거 우리 학교에도 있어서 별로 관심 없었다. 뭐 근데 커피가 맛있는 것은 사실이다.

그리고 두번째 Benjamin Franklin Coffee Corner 는

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-6.jpeg" class="article_img"/><br/>
요런 식으로 생긴 푸드 코트였다. 치킨이랑 감자 프라이 등등을 파는 곳 같았다. 잘 안 둘러봐서 커피 파는 곳이 있었는지는 잘 모르겠다.

여기서부터는 내리막길이었다.

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-5.jpeg" class="article_img"/><br/>
University Mall 근처 수영장

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-3.jpeg" class="article_img"/><br/>
Alumni Garden

Alumni Garden이랑 연결되어 있는 샛길로 밑으로 내려갈 수 있었다. 여기서부터는 비가 주룩주룩 와서 정신 못 차리면서 내려갔다.

<img src="http://pjshwa.cdn3.cafe24.com/cuhk_first_visit/KakaoTalk_Photo_2017-05-04-16-59-19-2.jpeg" class="article_img"/><br/>
샛길 모습

이 뒤부터는 비를 피하기 바빴기 때문에 사진이 없다. 샛길로 10-15분 정도 내려오니 중문대 호수가 보였다. 일부러 돌아서 걸어갔는데 경치가 좋았다.

뭔가 내려오는 이야기는 좀 성급하게 마무리한 느낌인데 실제 여정도 성급하게 마무리 했기 때문에 그렇다. 지하철을 타러 갔는데 바로 가고자 하는 방향의 반대편 승강장으로 연결되는 입구로 들어갔다. 뭐 그런 입구가 다 있어?? 다리가 너무 아팠기 때문에 반대편 승강장으로 건너가고 싶지 않았다. 다음 역으로 가서 바로 갈아타야지 했는데 다음 역도 철로 건너편에 반대편 승강장이 있었다. 그래서 그냥 내려 버렸다.

그래서 원래 도심으로 다시 오려다가 Tai Po Market의 스타벅스로 가게 된 것이다.

-- 끝 --
</p>
					<hr/>
				</article>
			</div>
		</div>
	</div>
</body>
</html>