<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pubble - 퍼즐 플랫포머</title>
    <link rel="stylesheet" href="puzzle_game.css">
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1>Pubble</h1>
            <p class="game-subtitle">퍼즐 플랫포머</p>
            <div class="game-info">
                <div class="level">레벨: <span id="current-level">1</span></div>
                <button id="reset-btn">다시시작</button>
                <button id="next-level-btn" style="display:none;">다음 레벨</button>
                <button id="editor-btn">레벨 에디터</button>
            </div>
        </div>
        
        <div id="editor-panel" class="editor-panel" style="display:none;">
            <h3>레벨 에디터</h3>
            <div class="editor-tools">
                <div class="tool-group">
                    <h4>브러시 선택:</h4>
                    <button class="tool-btn active" data-tool="wall">🧱 벽</button>
                    <button class="tool-btn" data-tool="switch">🔴 스위치</button>
                    <button class="tool-btn" data-tool="toggle-block">🟣 토글블록</button>
                    <button class="tool-btn" data-tool="goal">🏁 목표</button>
                    <button class="tool-btn" data-tool="start">🧙‍♂️ 시작점</button>
                    <button class="tool-btn" data-tool="empty">🗑️ 지우기</button>
                </div>
                <div class="tool-group">
                    <h4>스위치 연결:</h4>
                    <p class="editor-hint">🔴 스위치 클릭 → 🟣 토글블록 클릭으로 연결</p>
                    <p class="editor-hint">다른 스위치 클릭으로 선택 변경</p>
                    <div id="switch-info" class="switch-status"></div>
                </div>
                <div class="tool-group">
                    <h4>레벨 관리:</h4>
                    <button id="test-level-btn">▶️ 테스트 플레이</button>
                    <button id="clear-level-btn">🗑️ 전체 지우기</button>
                    <button id="export-level-btn">💾 JSON 내보내기</button>
                    <button id="import-level-btn">📂 JSON 가져오기</button>
                    <button id="share-level-btn">🔗 공유 URL 생성</button>
                </div>
            </div>
            <textarea id="level-json" placeholder="레벨 JSON 데이터" style="display:none;"></textarea>
        </div>
        
        <div class="game-board" id="game-board">
            <!-- 15x15 그리드가 여기에 생성됩니다 -->
        </div>
        
        <div class="controls">
            <h3>조작법:</h3>
            <p><strong>WASD</strong> 또는 <strong>방향키</strong>로 이동</p>
            <p><strong>스페이스바</strong>로 점프 (1칸만 가능)</p>
            <p><strong>🔴 스위치</strong>에 가까이 가면 자동으로 활성화되어 연결된 <strong>🟣 토글블록</strong>이 나타납니다</p>
            <p><strong>목표</strong>: 🏁에 도착하세요!</p>
        </div>
    </div>
    
    <div id="victory-message" class="victory-message" style="display:none;">
        <div class="victory-content">
            <h2>🎉 클리어!</h2>
            <p>축하합니다!</p>
            <button id="continue-btn">계속하기</button>
        </div>
    </div>

    <script src="puzzle_game.js"></script>
</body>
</html>