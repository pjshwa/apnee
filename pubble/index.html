<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pubble - Puzzle Platformer</title>
    <link rel="stylesheet" href="puzzle_game.css">
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1>Pubble</h1>
            <p class="game-subtitle">Puzzle Platformer</p>
            <div class="game-info">
                <div class="level">Level: <span id="current-level">1</span></div>
                <button id="reset-btn">Restart</button>
                <button id="next-level-btn" style="display:none;">Next Level</button>
                <button id="editor-btn">Level Editor</button>
                <a href="gallery.html" style="background: rgba(99, 102, 241, 0.2); color: #fff; border: 2px solid rgba(99, 102, 241, 0.5); padding: 8px 16px; border-radius: 4px; text-decoration: none; display: inline-block; transition: all 0.2s;">ğŸ® Level Gallery</a>
            </div>
        </div>
        
        <div id="editor-panel" class="editor-panel" style="display:none;">
            <h3>Level Editor</h3>
            <div class="editor-tools">
                <div class="tool-group">
                    <h4>Select Brush:</h4>
                    <button class="tool-btn active" data-tool="wall">ğŸ§± Wall</button>
                    <button class="tool-btn" data-tool="switch">ğŸ”´ Switch</button>
                    <button class="tool-btn" data-tool="toggle-block">ğŸŸ£ Toggle Block</button>
                    <button class="tool-btn" data-tool="goal">ğŸ Goal</button>
                    <button class="tool-btn" data-tool="start">ğŸ§™â€â™‚ï¸ Start Point</button>
                    <button class="tool-btn" data-tool="empty">ğŸ—‘ï¸ Erase</button>
                </div>
                <div class="tool-group">
                    <h4>Switch Connection:</h4>
                    <p class="editor-hint">Click ğŸ”´ Switch â†’ Click ğŸŸ£ Toggle Block to connect</p>
                    <p class="editor-hint">Click another switch to change selection</p>
                    <div id="switch-info" class="switch-status"></div>
                </div>
                <div class="tool-group">
                    <h4>Level Management:</h4>
                    <button id="test-level-btn">â–¶ï¸ Test Play</button>
                    <button id="clear-level-btn">ğŸ—‘ï¸ Clear All</button>
                    <button id="export-level-btn">ğŸ’¾ Export JSON</button>
                    <button id="import-level-btn">ğŸ“‚ Import JSON</button>
                    <button id="share-level-btn">ğŸ”— Generate Share URL</button>
                </div>
            </div>
            <textarea id="level-json" placeholder="Level JSON data" style="display:none;"></textarea>
            <button id="download-json-btn" style="display:none; margin-top: 8px;">â¬‡ï¸ Download JSON File</button>
        </div>
        
        <div class="game-board" id="game-board">
            <!-- 15x15 grid will be generated here -->
        </div>
        
        <div class="controls">
            <h3>Controls:</h3>
            <p><strong>WASD</strong> or <strong>Arrow Keys</strong> to move</p>
            <p><strong>Spacebar</strong> to jump (1 cell only)</p>
            <p>Get close to <strong>ğŸ”´ Switch</strong> to activate and reveal connected <strong>ğŸŸ£ Toggle Blocks</strong></p>
            <p><strong>Goal</strong>: Reach the ğŸ!</p>
        </div>
    </div>
    
    <div id="victory-message" class="victory-message" style="display:none;">
        <div class="victory-content">
            <h2>ğŸ‰ Clear!</h2>
            <p>Congratulations!</p>
            <button id="continue-btn">Continue</button>
        </div>
    </div>

    <script src="puzzle_game.js"></script>
</body>
</html>